---
// src/components/dashboard/ProyeccionGanancias.astro
import CardHelp from './CardHelp.astro';
---
<div class="p-6 rounded-xl border border-blue-500/30 bg-[#161a1e] hover:border-blue-500/60 transition-all shadow-lg flex flex-col h-full">
  
  <div class="flex justify-between items-center mb-4">
    <div>
      <span class="text-[12px] font-black uppercase tracking-widest text-white-400">Proyección de Escenarios</span>
      <p class="text-[10px] text-white-500 uppercase font-bold mt-0.5">Basado en volumen actual</p>
    </div>
    <div class="flex items-center gap-2">
      <CardHelp
        title="Proyeccion de Escenarios"
        description="Estima profit y volumen esperados para 1, 7, 15 y 30 dias."
        calculation="Proyeccion de profit = profit neto diario promedio x horizonte. Volumen estimado = volumen diario promedio x horizonte."
        notes={[
          "La confianza sube con mas muestra y mejor cobertura de dias.",
          "Horizontes mas largos aplican penalizacion de confianza."
        ]}
      />
      <div class="bg-blue-500/10 p-2.5 rounded-lg">
        <i class="fas fa-magic text-blue-500 text-sm"></i>
      </div>
    </div>
  </div>

  <div class="mb-6">
    <div class="flex items-baseline gap-2">
      <span id="projected-profit-value" class="text-4xl font-mono font-bold text-white tracking-tighter">---</span>
      <span class="text-sm font-bold text-white-600 uppercase">usdt</span>
    </div>
    <div class="flex items-center gap-2 mt-2">
      <span id="projection-label" class="text-[12px] text-white-500 font-black uppercase tracking-widest">Estimado 1 día</span>
    </div>
  </div>

  <div class="grid grid-cols-4 gap-2 mb-4">
    <button class="proj-time-btn active bg-blue-500 text-black text-[10px] font-black py-1.5 rounded uppercase transition-all" data-days="1">1D</button>
    <button class="proj-time-btn bg-white/5 text-gray-400 text-[10px] font-black py-1.5 rounded border border-white/5 hover:bg-blue-500/20 uppercase" data-days="7">7D</button>
    <button class="proj-time-btn bg-white/5 text-gray-400 text-[10px] font-black py-1.5 rounded border border-white/5 hover:bg-blue-500/20 uppercase" data-days="15">15D</button>
    <button class="proj-time-btn bg-white/5 text-gray-400 text-[10px] font-black py-1.5 rounded border border-white/5 hover:bg-blue-500/20 uppercase" data-days="30">1M</button>
  </div>

  <div class="mt-auto pt-4 border-t border-white/5 space-y-3">
    <div class="flex justify-between items-center">
      <span class="text-[10px] text-white-500 uppercase font-bold">Volumen Estimado</span>
      <span id="proj-vol-detail" class="text-ls font-mono text-white-300 font-bold">---</span>
    </div>
    <div class="flex justify-between items-center">
      <span class="text-[10px] text-white-500 uppercase font-bold">Confianza de Algoritmo</span>
      <span id="proj-confidence" class="text-ls font-mono text-emerald-500 font-bold">--%</span>
    </div>
  </div>
</div>

<style>
  .proj-time-btn.active {
    box-shadow: 0 0 10px rgba(59, 130, 246, 0.4);
  }
</style>
