---
// src/components/dashboard/ComisionOperador.astro
---
<div class="p-6 rounded-xl border border-[#F3BA2F]/20 bg-[#161a1e] hover:border-[#F3BA2F]/40 transition-all shadow-xl relative overflow-hidden group">
  <div class="absolute -right-4 -top-4 w-20 h-20 bg-[#F3BA2F]/5 rounded-full blur-2xl group-hover:bg-[#F3BA2F]/10 transition-all"></div>

  <div class="flex justify-between items-start mb-5">
    <div class="z-10">
      <div class="flex items-center gap-2">
        <div class="w-1.5 h-1.5 rounded-full bg-[#F3BA2F] shadow-[0_0_8px_#F3BA2F]"></div>
        <span class="text-[12px] font-black uppercase tracking-[0.2em] text-white-400">Payroll Operativo</span>
      </div>
      <div class="flex items-center gap-2 mt-2">
        <span id="op-config-pct" class="text-[22px] font-mono font-black text-[#F3BA2F] bg-[#F3BA2F]/10 border border-[#F3BA2F]/20 px-2 py-0.5 rounded-lg">--%</span>
        <span class="text-[10px] text-white-500 uppercase font-black tracking-widest">Profit Share</span>
      </div>
    </div>
    <div class="p-2 bg-white/5 rounded-lg border border-white/5">
        <i class="fas fa-hand-holding-dollar text-[#F3BA2F] text-sm"></i>
    </div>
  </div>

  <div class="space-y-4 relative z-10">
    <div>
      <div class="flex items-baseline gap-1">
        <span class="text-2xl font-mono font-black tracking-tighter text-white" id="op-net-profit">0.00</span>
        <span class="text-[10px] font-black text-[#F3BA2F] uppercase">usdt</span>
      </div>
      <div class="text-[10px] text-white-500 uppercase font-bold tracking-widest mt-1">Acumulado disponible</div>
    </div>

    <!-- Registro de Retiro por Numero de Orden (Auditoria) -->
    <div class="pt-4 border-t border-white/5">
      <div class="flex items-center justify-between gap-3">
        <div class="text-[9px] font-black uppercase tracking-[0.22em] text-white-500">Retiro por Orden</div>
        <div class="text-[9px] font-black uppercase tracking-[0.22em] text-white-600">Descuenta Profit Share</div>
      </div>

      <div class="grid grid-cols-[1fr_auto] gap-2 mt-2 items-center">
        <div class="relative">
          <input
            id="payroll-withdrawal-order"
            inputmode="numeric"
            autocomplete="off"
            placeholder="Pega el Numero de Orden..."
            class="w-full bg-black/25 border border-white/10 rounded-md px-3 py-2.5 text-[12px] font-mono font-black text-white placeholder:text-white/25 focus:outline-none focus:border-[#F3BA2F]/45 focus:bg-black/35 transition-colors"
          />
          <div class="absolute right-3 top-1/2 -translate-y-1/2 text-[10px] font-black text-white/20 select-none">#</div>
        </div>
        <button
          id="payroll-withdrawal-save"
          class="shrink-0 h-[38px] px-3.5 rounded-md border border-[#F3BA2F]/25 bg-[#F3BA2F]/10 text-[10px] font-black uppercase tracking-[0.22em] text-[#F3BA2F] hover:bg-[#F3BA2F]/15 hover:border-[#F3BA2F]/45 transition-all"
        >
          Agregar
        </button>
      </div>

      <div class="mt-1.5 text-[9px] font-bold uppercase tracking-widest text-white-600 opacity-70">
        Solo VENTA (P2P_SELL) + SUCCESS
      </div>

      <div id="payroll-withdrawal-feedback" class="mt-2 hidden"></div>
      <div class="mt-3 space-y-2 max-h-44 overflow-auto pr-1" id="payroll-withdrawal-log"></div>
    </div>
  </div>

  <div class="flex justify-between items-center opacity-50 mt-1">
    <span class="text-[10px] font-bold text-white-500 uppercase">Calculado sobre Profit Neto</span>
    <i class="fas fa-shield-check text-[10px] text-white-600"></i>
  </div>
</div>

